var tb;(()=>{var __webpack_modules__={125:()=>{Blockly.Blocks.create_mesh={init:function(){this.appendDummyInput().appendField("Create Mesh"),this.appendValueInput("geometry").appendField("with Geometry"),this.appendValueInput("material").appendField("and Material"),this.setOutput(!0,"Mesh"),this.setColour(230),this.setTooltip("Create a mesh with specified geometry and material."),this.setHelpUrl("")}},Blockly.Blocks.create_cube={init:function(){this.appendDummyInput().appendField("Create Cube"),this.appendDummyInput().appendField("with width").appendField(new Blockly.FieldNumber(1,0),"width"),this.appendDummyInput().appendField("and height").appendField(new Blockly.FieldNumber(1,0),"height"),this.appendDummyInput().appendField("and depth").appendField(new Blockly.FieldNumber(1,0),"depth"),this.setOutput(!0,"Cube"),this.setColour(230),this.setTooltip("Create a cube with specified dimensions."),this.setHelpUrl("")}},Blockly.Blocks.create_sphere={init:function(){this.appendDummyInput().appendField("Create Sphere"),this.appendDummyInput().appendField("with radius").appendField(new Blockly.FieldNumber(1,0),"radius"),this.setOutput(!0,"Sphere"),this.setColour(230),this.setTooltip("Create a sphere with specified radius."),this.setHelpUrl("")}},Blockly.Blocks.create_cylinder={init:function(){this.appendDummyInput().appendField("Create Cylinder"),this.appendDummyInput().appendField("with radius").appendField(new Blockly.FieldNumber(1,0),"radius"),this.appendDummyInput().appendField("and height").appendField(new Blockly.FieldNumber(1,0),"height"),this.setOutput(!0,"Cylinder"),this.setColour(230),this.setTooltip("Create a cylinder with specified dimensions."),this.setHelpUrl("")}},Blockly.Blocks.create_material={init:function(){this.appendDummyInput().appendField("Create Material"),this.appendDummyInput().appendField("with color ").appendField(new Blockly.FieldColour("white"),"color"),this.appendDummyInput().appendField("and image").appendField(new Blockly.FieldTextInput("world.jpg"),"image"),this.setOutput(!0,"Material"),this.setNe,this.setColour(160),this.setTooltip("Create the material with spefic options"),this.setHelpUrl("")}}},13:()=>{javascript.javascriptGenerator.forBlock.create_mesh=function(e){var t=Blockly.JavaScript.valueToCode(e,"geometry",Blockly.JavaScript.ORDER_NONE),a=Blockly.JavaScript.valueToCode(e,"material",Blockly.JavaScript.ORDER_NONE);return t?(a||(a="new THREE.MeshPhongMaterial({ color: 0xffffff })"),`var mesh = new THREE.Mesh(${t}, ${a});\n`+"scene.add(mesh)"):""},javascript.javascriptGenerator.forBlock.create_cube=function(e){return[`new THREE.BoxGeometry(${e.getFieldValue("width")}, ${e.getFieldValue("height")}, ${e.getFieldValue("depth")})`,Blockly.JavaScript.ORDER_ATOMIC]},javascript.javascriptGenerator.forBlock.create_sphere=function(e){return[`new THREE.SphereGeometry(${e.getFieldValue("radius")}, 64, 64)`,Blockly.JavaScript.ORDER_ATOMIC]},javascript.javascriptGenerator.forBlock.create_cylinder=function(e){var t=e.getFieldValue("radius");return[`new THREE.CylinderGeometry(${t}, ${t}, ${e.getFieldValue("height")}, 64)`,Blockly.JavaScript.ORDER_ATOMIC]},javascript.javascriptGenerator.forBlock.create_material=function(e){var t=e.getFieldValue("color"),a=e.getFieldValue("image"),i="new THREE.MeshPhongMaterial({ ";return t&&(i+=`color: '${t}', `),a&&(i+=` map: textureLoader.load('${a}') `),[i+="})",Blockly.JavaScript.ORDER_ATOMIC]}},529:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initWorkspace:()=>initWorkspace});var id=window.id||new URLSearchParams(window.location.search).get("id"),WS_NAME="ThreeBlocklyWS",workspace;function initWorkspace(e){workspace=Blockly.inject("blocklyDiv",e),loadWorkspace(WS_STATES[id]||localStorage.getItem(WS_NAME)||WS_STATES.intro),e&&1!=e.readOnly?workspace.addChangeListener(updateCode):updateCode()}function loadWorkspace(e){if(e)try{Blockly.serialization.workspaces.load(JSON.parse(e),workspace)}catch(e){console.log(e),delete localStorage[WS_NAME]}}const supportedEvents=new Set([Blockly.Events.BLOCK_CHANGE,Blockly.Events.BLOCK_CREATE,Blockly.Events.BLOCK_DELETE,Blockly.Events.BLOCK_MOVE]);var threeDiv=document.getElementById("threeDiv"),codeDiv=document.getElementById("codeDiv");function updateCode(event){if(workspace.isDragging())return;if(event&&!supportedEvents.has(event.type))return;var state=Blockly.serialization.workspaces.save(workspace);localStorage.setItem(WS_NAME,JSON.stringify(state));const code=javascript.javascriptGenerator.workspaceToCode(workspace);codeDiv&&(codeDiv.innerText=code);try{setup.preEval&&setup.preEval(),eval(code),setup.postEval&&setup.postEval()}catch(e){console.log(e)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var e={};__webpack_require__.r(e),__webpack_require__.d(e,{camera:()=>n,postEval:()=>c,preEval:()=>l,renderer:()=>a,scene:()=>i,textureLoader:()=>t}),__webpack_require__(125),__webpack_require__(13);var t=new THREE.TextureLoader,a=new THREE.WebGLRenderer;a.setSize(threeDiv.clientWidth,threeDiv.clientHeight),threeDiv.appendChild(a.domElement);var i=new THREE.Scene;const r=new THREE.AmbientLight(1048575,.5),o=new THREE.DirectionalLight(16777215,.5);o.position.set(1,1,1).normalize();var p,n=new THREE.PerspectiveCamera(75,threeDiv.clientWidth/threeDiv.clientHeight,.1,1e3);function l(){i.clear(),i.add(r),i.add(o)}function c(){}n.position.z=5,THREE.OrbitControls&&(p=new THREE.OrbitControls(n,a.domElement)),a.setAnimationLoop((function(){p&&p.update(),a.render(i,n)}));var d=__webpack_require__(529);window.textureLoader=t,window.scene=i,window.setup=e,window.ws=d})(),tb=__webpack_exports__})();